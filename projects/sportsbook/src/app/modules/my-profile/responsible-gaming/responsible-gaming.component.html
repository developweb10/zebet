<div class="head-tag mb-5">
	<h1>
		<span class="back-arrow" (click)="goHome()">
			<!-- (click)="this.showAddNewModal = false" -->
			<svg
				xmlns="http://www.w3.org/2000/svg"
				width="19"
				height="19"
				viewBox="0 0 19 19"
				fill="none"
			>
				<path
					d="M5.73711 10.1621H15.5996V9.03711H5.73711L10.3871 4.38711L9.59961 3.59961L3.59961 9.59961L9.59961 15.5996L10.3871 14.8121L5.73711 10.1621Z"
					fill="white"
				/>
				<path
					d="M5.73711 10.1621H15.5996V9.03711H5.73711L10.3871 4.38711L9.59961 3.59961L3.59961 9.59961L9.59961 15.5996L10.3871 14.8121L5.73711 10.1621Z"
					stroke="white"
				/>
			</svg>
		</span>
		Responsible Gaming
	</h1>
</div>


<div
	class="flex flex-col md:px-12 px-4 mt-6 md:mt-0"
	*ngIf="addTimeLimit || addFinancialLimit || addExclusion"
>
	<form class="w-full flex gap-5 flex-col">
		<div
			class="grid lg:grid-cols-2 md:grid-cols-1 grid-cols-1 md:gap-9 gap-5 md:w-2/3 w-full"
		>
			<div class="flex flex-col gap-2" *ngIf="this.updateLimit === false">
				<label class="text-xs text-white" for=""
					>Limit Type <sup class="text-[#FFC600]">*</sup></label
				>
				<select
					class="input-wrap"
					id="limitType"
					(change)="onSelectChange($event)"
					*ngIf="canSelect"
				>
					<option value="" [selected]="selectedOption === ''">Please Select</option>
					

					<option
						value="FinancialLimit"
						[selected]="selectedOption === 'FinancialLimit'"
					>
						Financial Limits
					</option>

					<option
						value="Exclusion"
						[selected]="selectedOption === 'Exclusion'"
					>
						Exclusions
					</option>

				</select>
				<p *ngIf="!canSelect" class="text-[16px] text-[#ffc600] font-bold">{{ optionLabel }}</p>
			</div>
			
		</div>
		<div class="flex flex-col gap-3" *ngIf="selectedOption == 'TimeLimit'">
			<label class="text-xs text-white" for=""
				>Limit Type <sup class="text-[#FFC600]">*</sup>
			</label>

			<ul class="flex gap-2 lg:gap-5">
				<li
					class="bg-secondary text-white p-2 w-[100px] text-center rounded-[10px] text-[14px] font-bold"
					[class.active-labels]="selectedSubOption === 'Daily'"
				>
				<a
				(click)="setSubOption('Daily')">Daily</a>
				</li>
				<li

					[class.active-labels]="selectedSubOption === 'Weekly'"
					class="bg-secondary text-white p-2 w-[100px] text-center rounded-[10px] text-[14px] font-bold"
				>
				<a
				(click)="setSubOption('Weekly')">Weekly</a>
				</li>
				<li
					
					[class.active-labels]="selectedSubOption === 'Monthly'"
					class="bg-secondary text-white p-2 w-[100px] text-center rounded-[10px] text-[14px] font-bold"
				>
					<a
					(click)="setSubOption('Monthly')">Monthly</a>
				</li>
				<li
					[class.active-labels]="selectedSubOption === 'RealityCheck'"
					class="bg-secondary w-auto text-white p-2 lg:w-[120px] text-center rounded-[10px] text-[14px] font-bold"
				>
					
					<a
					(click)="setSubOption('RealityCheck')">Reality Check</a>
				</li>
			</ul>

			<label class="text-xs text-white" for="">
				Period <sup class="text-[#FFC600]">*</sup>
			</label>
			<div class="flex flex-col" *ngIf="selectedSubOption == 'Daily'">
				  <label class="container">15 Mins
					<input type="radio" checked="checked" name="radio" (change)="selectedSubOptionType = '15'">
					<span class="checkmark"></span>
				  </label>
				  <label class="container">30 Mins
					<input type="radio" name="radio" (change)="selectedSubOptionType = '30'">
					<span class="checkmark"></span>
				  </label>
				  <label class="container">45 Mins
					<input type="radio" name="radio" (change)="selectedSubOptionType = '45'">
					<span class="checkmark"></span>
				  </label>
				  <label class="container">60 Mins
					<input type="radio" name="radio" (change)="selectedSubOptionType = '60'">
					<span class="checkmark"></span>
				  </label>
				  <label class="container">Custom
					<input type="radio" name="radio" (change)="selectedSubOptionType = 'Custom'">
					<span class="checkmark"></span>
				  </label>
				  <div
					class="flex w-auto"
					*ngIf="selectedSubOptionType == 'Custom'">

					<input
						type="number"
						value=""
						class="bg-[#2C3538] p-4 rounded-sm border border-[#4D585D] input-wrap mr-2"
					/>
					<select
					class="input-wrap ml-2"
					id="customType"
				>
					<option value="">Please Select</option>
					<option
						value="Minutes"
						[selected]="selectedCustomType === 'Minutes'"
					>
						Minutes
					</option>

					<option
						value="Hours"
						[selected]="selectedCustomType === 'Hours'"
					>
						Hours
					</option>

				</select>
				  </div>
			</div>
			<div class="flex flex-col" *ngIf="selectedSubOption == 'Weekly'">
				<label class="container">A Week (7days)
					<input type="radio" checked="checked" name="radio" (change)="selectedSubOptionType = '7'">
					<span class="checkmark"></span>
				  </label>
				  <label class="container">Custom
					<input type="radio" name="radio" (change)="selectedSubOptionType = 'Custom'">
					<span class="checkmark"></span>
				  </label>

				  <div
					class="flex w-auto"
					*ngIf="selectedSubOptionType == 'Custom'">

					<input
						type="number"
						value=""
						class="bg-[#2C3538] p-4 rounded-sm border border-[#4D585D] input-wrap mr-2"
					/>
					<select
					class="input-wrap ml-2"
					id="customType"
				>
					<option value="">Please Select</option>
					<option
						value="Minutes"
						[selected]="selectedCustomType === 'Minutes'"
					>
						Minutes
					</option>

					<option
						value="Hours"
						[selected]="selectedCustomType === 'Hours'"
					>
						Hours
					</option>

				</select>
				  </div>
				  
			</div>
			<div class="flex flex-col" *ngIf="selectedSubOption == 'Monthly'">
				<label class="container">1 Month (30days)
					<input type="radio" checked="checked" name="radio" (change)="selectedSubOptionType = '30'">
					<span class="checkmark"></span>
				  </label>
				  <label class="container">Custom
					<input type="radio" name="radio" (change)="selectedSubOptionType = 'Custom'">
					<span class="checkmark"></span>
				  </label>

				  <div
					class="flex w-auto"
					*ngIf="selectedSubOptionType == 'Custom'">

					<input
						type="number"
						value=""
						class="bg-[#2C3538] p-4 rounded-sm border border-[#4D585D] input-wrap mr-2"
					/>
					<select
					class="input-wrap ml-2"
					id="customType"
				>
					<option value="">Please Select</option>
					<option
						value="Minutes"
						[selected]="selectedCustomType === 'Minutes'"
					>
						Minutes
					</option>

					<option
						value="Hours"
						[selected]="selectedCustomType === 'Hours'"
					>
						Hours
					</option>

				</select>
				  </div>

			</div>

			<div class="flex flex-col" *ngIf="selectedSubOption == 'RealityCheck'">
					
				  <label class="container">Custom
					<input type="radio" name="radio" (change)="selectedSubOptionType = 'Custom'">
					<span class="checkmark"></span>
				  </label>

				  <div
					class="flex w-auto"
					*ngIf="selectedSubOptionType == 'Custom'">

					<input
						type="number"
						value=""
						class="bg-[#2C3538] p-4 rounded-sm border border-[#4D585D] input-wrap mr-2"
					/>
					<select
					class="input-wrap ml-2"
					id="customType"
				>
					<option value="">Please Select</option>
					<option
						value="Minutes"
						[selected]="selectedCustomType === 'Minutes'"
					>
						Minutes
					</option>

					<option
						value="Hours"
						[selected]="selectedCustomType === 'Hours'"
					>
						Hours
					</option>

				</select>
				  </div>

			</div>
			
		</div>
		<div class="flex flex-col gap-3" *ngIf="selectedOption == 'FinancialLimit'">
			<label class="text-xs text-white" for=""
				>Limit Sub-Type <sup class="text-[#FFC600]">*</sup>
			</label>

			<ul class="flex gap-2 lg:gap-5">
				<li
					class="bg-[#2C3538] text-white p-2 w-[100px] text-center rounded-[10px] text-[14px] font-bold"
					[class.active-labels]="selectedSubOption === 'Daily'"
				>
				<a
				(click)="setSubOption('Daily')">Daily</a>
				</li>
				<li

					[class.active-labels]="selectedSubOption === 'Weekly'"
					class="bg-[#2C3538] text-white p-2 w-[100px] text-center rounded-[10px] text-[14px] font-bold"
				>
				<a
				(click)="setSubOption('Weekly')">Weekly</a>
				</li>
				<li
					
					[class.active-labels]="selectedSubOption === 'Monthly'"
					class="bg-[#2C3538] text-white p-2 w-[100px] text-center rounded-[10px] text-[14px] font-bold"
				>
					<a
					(click)="setSubOption('Monthly')">Monthly</a>
				</li>
				
			</ul>

			<label class="text-xs text-white" for="">
				Period <sup class="text-[#FFC600]">*</sup>
			</label>
			<div class="flex flex-col">
				  <label class="container">Deposit
					<input type="radio" [checked]="selectedSubOptionType === 'Deposit'" name="radio" (change)="setSubOptionType('Deposit')">
					<span class="checkmark"></span>
				  </label>
				  <label class="container">Loss
					<input type="radio"  [checked]="selectedSubOptionType === 'Loss'" name="radio" (change)="setSubOptionType('Loss')">
					<span class="checkmark"></span>
				  </label>
				  <label class="container">Wager
					<input type="radio" [checked]="selectedSubOptionType === 'Wager'" name="radio" (change)="setSubOptionType('Wager')">
					<span class="checkmark"></span>
				  </label>
				  
				  <div class="flex flex-col lg:w-1/3 mt-2">
					<label class="fin_amount" for="">Amount<sup class="text-[#FFC600]">*</sup></label>
					<div class="input-wrap mt-2">
						<span class="tag">NGN</span>
						<input
							type="number"
							value="{{ selectedAmount }}"
							(change)="enteredamount($event)"
						/>
						<span class="number">.00</span>
					</div>
				  </div>
				  
			</div>
			
			
		</div>
		<div class="flex flex-col gap-3" *ngIf="selectedOption == 'Exclusion'">
			<label class="text-xs text-white" for=""
				>Limit Sub-Type <sup class="text-[#FFC600]">*</sup>
			</label>

			<ul class="flex gap-5 items-center">
				<li
					class="bg-[#2C3538] text-white p-2 w-[100px] text-center rounded-[10px] text-[14px] font-bold"
					[class.active-labels]="selectedSubOption === 'Temporary'"
				>
				<a
				(click)="setSubOption('Temporary')">Temporary</a>
				</li>
				<li
					(click)="activeBtn = 'Week'"
					[class.active-labels]="selectedSubOption === 'Permanent'"
					class="bg-[#2C3538] text-white p-2 w-[100px] text-center rounded-[10px] text-[14px] font-bold"
				>
				<a
				(click)="setSubOption('Permanent')">Permanent</a>
				</li>
				
			</ul>

			<div class="flex lg:hidden w-full" *ngIf="selectedSubOption === 'Temporary'">
				
				  <div class="flex flex-col" style="width: 50%;">
					<label class="text-xs text-white mb-2" style="margin-bottom: 5px;" for="">Start Date<span class="text-[#FFC600]">*</span></label>
					<mat-form-field class="bg-[#2C3538]  border border-gray-600 text-[#D9D9D9] customMatform rounded-[10px]">
					  <input matInput [matDatepicker]="pickerStartDate" (dateChange)="handleStartDateChange($event)" [min]="getToday()" name="startDate" [(ngModel)]="startDate"
						[readonly]="true">
					  <mat-datepicker-toggle matSuffix [for]="pickerStartDate"></mat-datepicker-toggle>
					  <mat-datepicker #pickerStartDate></mat-datepicker>
					</mat-form-field>
				  </div>
				  <div class="flex flex-col ml-2" style="width: 50%;">
					<label class="text-xs text-white mb-2" style="margin-bottom: 5px;" for="">End Date<span class="text-[#FFC600]">*</span></label>
					<mat-form-field class="bg-[#2C3538]  border border-gray-600 text-[#D9D9D9] customMatform rounded-[10px]">
					  <input matInput [matDatepicker]="pickerEndDate" (dateChange)="handleEndDateChange($event)" name="endDate" [(ngModel)]="endDate"
						[readonly]="true">
					  <mat-datepicker-toggle matSuffix [for]="pickerEndDate"></mat-datepicker-toggle>
					  <mat-datepicker #pickerEndDate></mat-datepicker>
					</mat-form-field>
				  </div>
				
			</div>
			<div class="hidden lg:flex w-full" *ngIf="selectedSubOption === 'Temporary'">
				
				<div class="flex flex-col">
				  <label class="text-xs text-white mb-2" style="margin-bottom: 5px;" for="">Start Date<span class="text-[#FFC600]">*</span></label>
				  <mat-form-field class="bg-[#2C3538]  border border-gray-600 text-[#D9D9D9] customMatform rounded-[10px]">
					<input matInput [matDatepicker]="pickerStartDate" (dateChange)="handleStartDateChange($event)" [min]="getToday()" name="startDate" [(ngModel)]="startDate"
					  [readonly]="true">
					<mat-datepicker-toggle matSuffix [for]="pickerStartDate"></mat-datepicker-toggle>
					<mat-datepicker #pickerStartDate></mat-datepicker>
				  </mat-form-field>
				</div>
				<div class="flex flex-col ml-2">
				  <label class="text-xs text-white mb-2" style="margin-bottom: 5px;" for="">End Date<span class="text-[#FFC600]">*</span></label>
				  <mat-form-field class="bg-[#2C3538]  border border-gray-600 text-[#D9D9D9] customMatform rounded-[10px]">
					<input matInput [matDatepicker]="pickerEndDate" (dateChange)="handleEndDateChange($event)" [min]="getToday()" name="endDate" [(ngModel)]="endDate"
					  [readonly]="true">
					<mat-datepicker-toggle matSuffix [for]="pickerEndDate"></mat-datepicker-toggle>
					<mat-datepicker #pickerEndDate></mat-datepicker>
				  </mat-form-field>
				</div>
			  
		    </div>
			<div class="flex w-full" *ngIf="selectedSubOption === 'Permanent'">

			</div>
		</div>

		
		
		
		<div class="footer-action">
			<button class="btn-cancel" (click)="closeAddModal()">Cancel</button>
			
			<button
				class="btn-save h-[50px]"
				(click)="editFinancialLimit()"
				[disabled]="isSubmitting"
				*ngIf="selectedOption === 'FinancialLimit' && canEdit"
			>
				
				<span *ngIf="!isSubmitting" class="text-[#18242A]">Update Limit</span>
				<span class="flex justify-center button-spinner mx-auto"  *ngIf="isSubmitting"></span>
			</button>

			<button
				class="btn-save h-[50px]"
				(click)="setFinancialLimit()"
				[disabled]="isSubmitting"
				*ngIf="selectedOption === 'FinancialLimit' && canAdd"
			>
				<span *ngIf="!isSubmitting" class="text-[#18242A]">Set Limit</span>
				<span class="flex justify-center button-spinner mx-auto"  *ngIf="isSubmitting"></span>

			</button>

			<button
				class="btn-save h-[50px]"
				(click)="setExclusion()"
				[disabled]="isSubmitting"
				*ngIf="selectedOption === 'Exclusion' && canAdd
				"
			>
				<span *ngIf="!isSubmitting" class="text-[#18242A]">Set Exclusion</span>
				<span class="flex justify-center button-spinner mx-auto"  *ngIf="isSubmitting"></span>
				
			</button>
		</div>
	</form>
</div>


<div
	class="my-2 flex space-x-4"
	*ngIf="financialLimitData.length !== 0 && addFinancialLimit == false"
>
	<p
		(click)="renderFinancialLimits()"
		*ngIf="showFinancialLimits === false"
		class="cursor-pointer text-[15px]"
	>
		Financial Limits
	</p>

	<p
		(click)="renderFinancialLimits()"
		*ngIf="showFinancialLimits === true"
		class="underline decoration-8 decoration-yellow-500 mb-3 text-[15px] cursor-pointer"
	>
		Financial Limits
	</p>

	<p
		(click)="renderExclusions()"
		*ngIf="showExclusions === false"
		class="cursor-pointer text-[15px]"
	>
		Exclusions
	</p>

	<p
		(click)="renderExclusions()"
		*ngIf="showExclusions === true"
		class="underline decoration-8 decoration-yellow-500 mb-3 text-[15px] cursor-pointer"
	>
		Exclusions
	</p>
</div>

<!-- test financial limits  -->

<div
	class="flex flex-col gap-[16px]"
	*ngIf="
		financialLimitData.length !== 0 &&
		this.showFinancialLimits === true &&
		addFinancialLimit == false
	"
>
	<div class="hidden lg:block md:block" *ngIf="!isMobile && addFinancialLimit === false">

		<div
		class="flex bg-[#2C3538] gap-2 py-3 px-5 mb-2 rounded-lg"
		*ngFor="let financialLimit of financialLimitData"
		>
			<div class="order-1 flex flex-col gap-2 items-start" style="width: 30%;">
				<h5 class="text-[16px] font-bold text-white mt-4">{{ financialLimit.settingsInfo.name }}</h5>
				<!-- <p
					*ngIf="financialLimit.status === 'not_active'"
					class="text-sm md:text-base text-white font-bold"
				>
					{{ financialLimit.data.counter.info.currency }}
					{{ financialLimit.data.set.default.amount | number: '0.2-2' }} (Default)
				</p>

				<p
					*ngIf="financialLimit.status !== 'not_active'"
					class="text-sm md:text-base text-white font-bold"
				>
					{{ financialLimit.data.counter.info.currency }}
					{{ financialLimit.data.set.personal.amount.amount | number: '0.2-2' }}
				</p> -->
			</div>
			<div class="flex gap-2 md:order-2 order-2" style="width: 20%;">
				<div class="flex flex-col gap-2">
					<h5 class="text-sm text-white">Limit Amount</h5>
					
					<p class="text-sm md:text-base text-white font-bold" *ngIf="financialLimit.status !== 'not_active'">
							
						&#x20A6; {{ financialLimit.data.set.personal.amount.amount | number: '0.2-2' }}
						
					</p>
					<p class="text-sm md:text-base text-white font-bold" *ngIf="financialLimit.status === 'not_active'">
						
						<!-- (&#x20A6; {{ financialLimit.data.set.default.amount | number: '0.2-2' }}) -->
						<span>---</span>
						
					</p>
				</div>
				<!-- <div class="flex items-end">-</div> -->
			</div>

			<div class="flex flex-col gap-2 md:order-3 order-3 md:items-start auto-rows-min" style="width: 20%;">
				<h5 class="text-sm text-white">Limit Used</h5>
				<p class="text-sm md:text-base text-white font-bold">
					&#x20A6; 
					{{ financialLimit.data.counter.info.used | number: '0.2-2' }}
				</p>
			</div>

			<div class="flex flex-col gap-2 order-4 md:order-4 md:items-start auto-rows-min justify-center" style="width: 10%;"  [ngSwitch]="financialLimit.status"
			>
				<h5 class="text-sm text-white">Status</h5>
				<p *ngSwitchCase="'active'" class="text-sm md:text-base text-white font-bold">Active</p>
				<p *ngSwitchCase="'not_active'" class="text-sm md:text-base text-white font-bold">Not Set</p>
				<p *ngSwitchCase="'pending'" class="text-sm md:text-base text-white font-bold">Pending</p>
			</div>

			
			
			<div class="flex order-5 md:order-5 gap-2 items-center justify-center" style="width: 10%;">
				<div class="flex flex-col items-center" *ngIf="financialLimit.status !== 'not_active'">
					<span class="text-[11px]">Edit Limit</span>
					<div
					class="flex items-center justify-center mt-1 w-10 h-10 rounded-full bg-[#18242A] cursor-pointer"
					(click)="showUpdateModal(financialLimit)"
					>
						<svg
							xmlns="http://www.w3.org/2000/svg"
							width="20"
							height="20"
							viewBox="0 0 20 20"
							fill="none"
						>
							<path
								fill-rule="evenodd"
								clip-rule="evenodd"
								d="M17.2574 4.6927C17.5824 5.0177 17.5824 5.5427 17.2574 5.8677L15.7324 7.3927L12.6074 4.2677L14.1324 2.7427C14.288 2.58666 14.4994 2.49896 14.7199 2.49896C14.9403 2.49896 15.1517 2.58666 15.3074 2.7427L17.2574 4.6927ZM2.49902 17.0844V14.551C2.49902 14.4344 2.54069 14.3344 2.62402 14.251L11.7157 5.15937L14.8407 8.28437L5.74069 17.376C5.66569 17.4594 5.55736 17.501 5.44902 17.501H2.91569C2.68236 17.501 2.49902 17.3177 2.49902 17.0844Z"
								fill="white"
							/>
						</svg>
					</div>
				</div>
				
				
			</div>

			<div class="flex order-6 md:order-6 gap-2 items-center justify-center" style="width: 10%;">
				<button
				class="btn-revoke"
				(click)="revokeFinancialLimit(financialLimit.id)"
				*ngIf="financialLimit.status === 'active'">
				Revoke
				</button>

				<button
				class="btn-revoke"
				(click)="cancelUpdateFinancialLimit(financialLimit)"
				*ngIf="financialLimit.status === 'pending'">
				Cancel
				</button>
			</div>
			
		</div>

	</div>
	
	<div class="block" *ngIf="isMobile">

		<div
		class="bg-[#2C3538] gap-2 py-1 px-5 rounded-lg mb-2"
		*ngFor="let financialLimit of financialLimitData"
		>
			<div class="flex justify-start w-full gap-1"> 
				<div class="flex flex-col gap-2 py-2">
					<h5 class="text-[16px] text-white font-bold">{{ financialLimit.settingsInfo.name }}</h5>
					<!-- <p
						*ngIf="financialLimit.status === 'not_active'"
						class="text-sm md:text-base text-white font-bold"
					>
						{{ financialLimit.data.counter.info.currency }}
						{{ financialLimit.data.set.default.amount | number: '0.2-2' }} (Default)
					</p>

					<p
						*ngIf="financialLimit.status !== 'not_active'"
						class="text-sm md:text-base text-white font-bold"
					>
						{{ financialLimit.data.counter.info.currency }}
						{{ financialLimit.data.set.personal.amount.amount | number: '0.2-2' }}
					</p> -->
				</div>
			</div>
			<div class="grid grid-cols-2 grid-rows-1 mt-2">
				<div class="flex gap-2 order-1">
					<div class="flex flex-col gap-1">
						<h5 class="text-sm text-white">Limit Amount</h5>
						<p class="text-sm md:text-base text-white font-bold" *ngIf="financialLimit.status !== 'not_active'">
							
							&#x20A6; {{ financialLimit.data.set.personal.amount.amount | number: '0.2-2' }}
							
						</p>
						<p class="text-sm md:text-base text-white font-bold" *ngIf="financialLimit.status === 'not_active'">
							
							<!-- (&#x20A6; {{ financialLimit.data.set.default.amount | number: '0.2-2' }}) -->
							<span>---</span>
							
						</p>
					</div>
					<!-- <div class="flex items-end">-</div> -->
				</div>
				<div
					class="flex flex-col gap-1 order-2"
				>
					<h5 class="text-sm text-white">Limit Used</h5>
					<p class="text-sm md:text-base text-white font-bold">
						
						&#x20A6; {{ financialLimit.data.counter.info.used | number: '0.2-2' }}
					</p>
				</div>
				
			</div>
			

			
			
			<div class="flex justify-between w-full gap-1 mt-4 pb-2">

				<div class="flex flex-col gap-1 items-start" [ngSwitch]="financialLimit.status">
					<span class="text-[12px]">Status</span>
					<span *ngSwitchCase="'active'" class="text-[14px] font-bold">Active</span>
					<span *ngSwitchCase="'not_active'" class="text-[14px] font-bold">Not Set</span>
					<span *ngSwitchCase="'pending'" class="text-[14px] font-bold">Pending</span>
				</div>
				<div class="flex flex-col items-center">
					<span class="text-[12px] pb-1" *ngIf="financialLimit.status !== 'not_active'">Edit Limit</span>
					<div
					class="flex items-center justify-center min-w-[20px] p-2 rounded-full bg-[#18242A] cursor-pointer"
					(click)="openUpdateModal(financialLimit)"
					*ngIf="financialLimit.status !== 'not_active'"
					>
						<svg
							xmlns="http://www.w3.org/2000/svg"
							width="16"
							height="16"
							viewBox="0 0 20 20"
							fill="none"
						>
							<path
								fill-rule="evenodd"
								clip-rule="evenodd"
								d="M17.2574 4.6927C17.5824 5.0177 17.5824 5.5427 17.2574 5.8677L15.7324 7.3927L12.6074 4.2677L14.1324 2.7427C14.288 2.58666 14.4994 2.49896 14.7199 2.49896C14.9403 2.49896 15.1517 2.58666 15.3074 2.7427L17.2574 4.6927ZM2.49902 17.0844V14.551C2.49902 14.4344 2.54069 14.3344 2.62402 14.251L11.7157 5.15937L14.8407 8.28437L5.74069 17.376C5.66569 17.4594 5.55736 17.501 5.44902 17.501H2.91569C2.68236 17.501 2.49902 17.3177 2.49902 17.0844Z"
								fill="white"
							/>
						</svg>
					</div>
				</div>
				<div class="pt-2">
					<button
					class="btn-revoke"
					(click)="revokeFinancialLimit(financialLimit.id)"
					*ngIf="financialLimit.status === 'active'">
					Revoke
					</button>

					<button
					class="btn-revoke"
					(click)="revokeFinancialLimit(financialLimit.id)"
					*ngIf="financialLimit.status === 'pending'">
					Cancel
					</button>
				</div>
				
				
				
				
			</div>
			
			
		</div>

	</div>

	<div class="footer-action">
		<button
			class="btn-limit p-4 text-white w-full md:w-[339px]"
			(click)="newLimit()"
		>
			Add Limit
		</button>
	</div>
</div>

<!-- test exclusion block -->

<div
	class="flex flex-col gap-[16px]"
	*ngIf="this.showExclusions === true && addExclusion == false"
>
	<div
		class="grid grid-cols-2 grid-rows-1 md:grid-cols-5 bg-[#2C3538] gap-2 py-3 px-5 rounded-lg"
		*ngFor="let exclusion of exclusionsData"
	>
		<div class="order-1 flex flex-col gap-2">
			<h5 class="text-sm text-white">Exclusion Type</h5>
			<p>{{ exclusion.settingsInfo.name }}</p>
		</div>
		<div class="flex gap-5 col-span-1 md:col-span-2 md:order-2 order-3">
			<div class="flex flex-col gap-2">
				<h5 class="text-sm text-white">Status</h5>
				<p
					class="text-sm md:text-base text-white font-bold"
					*ngIf="exclusion.status === 'not_active'"
				>
					Not Active
				</p>
			</div>
			<!-- <div class="flex items-end">-</div> -->
		</div>

		<div
			class="flex flex-col gap-2 md:order-3 order-4 md:items-start auto-rows-min"
		>
			<h5 class="text-sm text-white">Duration</h5>
			<p
				class="text-sm md:text-base text-white font-bold"
				*ngIf="exclusion.status === 'not_active'"
			>
				No exclusion set
			</p>
		</div>
		<div
			class="flex order-2 md:order-4 gap-6 items-center justify-end"
			*ngIf="exclusion.status !== 'not_active'"
		>
			<!-- <div
				class="flex items-center justify-center min-w-[40px] w-10 h-10 rounded-full bg-[#18242A] cursor-pointer"
				(click)="openUpdateModal(financialLimit.id)"
			>
				<svg
					xmlns="http://www.w3.org/2000/svg"
					width="20"
					height="20"
					viewBox="0 0 20 20"
					fill="none"
				>
					<path
						fill-rule="evenodd"
						clip-rule="evenodd"
						d="M17.2574 4.6927C17.5824 5.0177 17.5824 5.5427 17.2574 5.8677L15.7324 7.3927L12.6074 4.2677L14.1324 2.7427C14.288 2.58666 14.4994 2.49896 14.7199 2.49896C14.9403 2.49896 15.1517 2.58666 15.3074 2.7427L17.2574 4.6927ZM2.49902 17.0844V14.551C2.49902 14.4344 2.54069 14.3344 2.62402 14.251L11.7157 5.15937L14.8407 8.28437L5.74069 17.376C5.66569 17.4594 5.55736 17.501 5.44902 17.501H2.91569C2.68236 17.501 2.49902 17.3177 2.49902 17.0844Z"
						fill="white"
					/>
				</svg>
			</div> -->
			<div
				class="flex items-center justify-center min-w-[40px] w-10 h-10 rounded-full bg-[#18242A] cursor-pointer"
				(click)="revokeFinancialLimit(exclusion.id)"
			>
				<svg
					xmlns="http://www.w3.org/2000/svg"
					width="20"
					height="20"
					viewBox="0 0 20 20"
					fill="none"
				>
					<g clip-path="url(#clip0_8181_36348)">
						<path
							d="M5.00033 15.8333C5.00033 16.75 5.75033 17.5 6.66699 17.5H13.3337C14.2503 17.5 15.0003 16.75 15.0003 15.8333V5.83333H5.00033V15.8333ZM15.8337 3.33333H12.917L12.0837 2.5H7.91699L7.08366 3.33333H4.16699V5H15.8337V3.33333Z"
							fill="#BE202F"
						/>
					</g>
					<defs>
						<clipPath id="clip0_8181_36348">
							<rect width="20" height="20" fill="white" />
						</clipPath>
					</defs>
				</svg>
			</div>
		</div>
	</div>

	<div class="footer-action">
		<button
			class="btn-limit p-4 text-white w-full md:w-[339px]"
			(click)="newLimit()"
		>
			Add Limit
		</button>
	</div>
</div>


<div class="modal md:invisible" *ngIf="addTimeLimitMobile || addFinancialLimitMobile || addExclusionMobile">
	<div class="modal-content">
	  <div class="modal-wrapper pb-12">
		<div class="flex items-center gap-2 pb-5 mb-4 border-b border-secondary">
		  <svg
			(click)="closeAddModal()"
			width="24"
			height="24"
			viewBox="0 0 24 24"
			fill="none"
			xmlns="http://www.w3.org/2000/svg"
		  >
			<circle cx="12" cy="12" r="12" fill="#2C3538" />
			<path
			  d="M8.73711 13.1621H18.5996V12.0371H8.73711L13.3871 7.38711L12.5996 6.59961L6.59961 12.5996L12.5996 18.5996L13.3871 17.8121L8.73711 13.1621Z"
			  fill="white"
			/>
			<path
			  d="M8.73711 13.1621H18.5996V12.0371H8.73711L13.3871 7.38711L12.5996 6.59961L6.59961 12.5996L12.5996 18.5996L13.3871 17.8121L8.73711 13.1621Z"
			  stroke="white"
			/>
		  </svg>
  
		  <h3 class="text-lg font-bold text-white">Add Limits</h3>
		</div>
		<div class="flex flex-col flex-1 overflow-auto px-1">
			<form class="w-full flex gap-1 flex-col">
				<div
					class="grid lg:grid-cols-2 md:grid-cols-1 grid-cols-1 md:gap-9 gap-5 md:w-2/3 w-full"
				>
					<div class="flex flex-col gap-2" *ngIf="this.updateLimit === false">
						<label class="text-xs text-white" for=""
							>Limit Type <sup class="text-[#FFC600]">*</sup></label
						>
						<select
							class="input-wrap"
							id="limitType"
							(change)="onSelectChange($event)"
						>
							<option value="" [selected]="selectedOption === ''">Please Select</option>
							
		
							<option
								value="FinancialLimit"
								[selected]="selectedOption === 'FinancialLimit'"
							>
								Financial Limits
							</option>
		
							<option
								value="Exclusion"
								[selected]="selectedOption === 'Exclusion'"
							>
								Exclusions
							</option>
		
						</select>
					</div>
					
				</div>
				<div class="flex flex-col gap-3" *ngIf="selectedOption == 'TimeLimit'">
					<label class="text-xs text-white" for=""
						>Limit Sub-Type <sup class="text-[#FFC600]">*</sup>
					</label>
		
					<ul class="flex gap-2 lg:gap-5">
						<li
							class="bg-secondary text-white p-2 w-[100px] text-center rounded-[10px] text-[14px] font-bold"
							[class.active-labels]="selectedSubOption === 'Daily'"
						>
						<a
						(click)="setSubOption('Daily')">Daily</a>
						</li>
						<li
		
							[class.active-labels]="selectedSubOption === 'Weekly'"
							class="bg-secondary text-white p-2 w-[100px] text-center rounded-[10px] text-[14px] font-bold"
						>
						<a
						(click)="setSubOption('Weekly')">Weekly</a>
						</li>
						<li
							
							[class.active-labels]="selectedSubOption === 'Monthly'"
							class="bg-secondary text-white p-2 w-[100px] text-center rounded-[10px] text-[14px] font-bold"
						>
							<a
							(click)="setSubOption('Monthly')">Monthly</a>
						</li>
						<li
							[class.active-labels]="selectedSubOption === 'RealityCheck'"
							class="bg-secondary w-auto text-white p-2 lg:w-[120px] text-center rounded-[10px] text-[14px] font-bold"
						>
							
							<a
							(click)="setSubOption('RealityCheck')">Reality Check</a>
						</li>
					</ul>
		
					<label class="text-xs text-white" for="">
						Period <sup class="text-[#FFC600]">*</sup>
					</label>
					<div class="flex flex-col" *ngIf="selectedSubOption == 'Daily'">
						  <label class="container">15 Mins
							<input type="radio" checked="checked" name="radio" (change)="selectedSubOptionType = '15'">
							<span class="checkmark"></span>
						  </label>
						  <label class="container">30 Mins
							<input type="radio" name="radio" (change)="selectedSubOptionType = '30'">
							<span class="checkmark"></span>
						  </label>
						  <label class="container">45 Mins
							<input type="radio" name="radio" (change)="selectedSubOptionType = '45'">
							<span class="checkmark"></span>
						  </label>
						  <label class="container">60 Mins
							<input type="radio" name="radio" (change)="selectedSubOptionType = '60'">
							<span class="checkmark"></span>
						  </label>
						  <label class="container">Custom
							<input type="radio" name="radio" (change)="selectedSubOptionType = 'Custom'">
							<span class="checkmark"></span>
						  </label>
						  <div
							class="flex w-auto"
							*ngIf="selectedSubOptionType == 'Custom'">
		
							<input
								type="number"
								value=""
								class="bg-[#2C3538] p-4 rounded-sm border border-[#4D585D] input-wrap mr-2"
							/>
							<select
							class="input-wrap ml-2"
							id="customType"
						>
							<option value="">Please Select</option>
							<option
								value="Minutes"
								[selected]="selectedCustomType === 'Minutes'"
							>
								Minutes
							</option>
		
							<option
								value="Hours"
								[selected]="selectedCustomType === 'Hours'"
							>
								Hours
							</option>
		
						</select>
						  </div>
					</div>
					<div class="flex flex-col" *ngIf="selectedSubOption == 'Weekly'">
						<label class="container">A Week (7days)
							<input type="radio" checked="checked" name="radio" (change)="selectedSubOptionType = '7'">
							<span class="checkmark"></span>
						  </label>
						  <label class="container">Custom
							<input type="radio" name="radio" (change)="selectedSubOptionType = 'Custom'">
							<span class="checkmark"></span>
						  </label>
		
						  <div
							class="flex w-auto"
							*ngIf="selectedSubOptionType == 'Custom'">
		
							<input
								type="number"
								value=""
								class="bg-[#2C3538] p-4 rounded-sm border border-[#4D585D] input-wrap mr-2"
							/>
							<select
							class="input-wrap ml-2"
							id="customType"
						>
							<option value="">Please Select</option>
							<option
								value="Minutes"
								[selected]="selectedCustomType === 'Minutes'"
							>
								Minutes
							</option>
		
							<option
								value="Hours"
								[selected]="selectedCustomType === 'Hours'"
							>
								Hours
							</option>
		
						</select>
						  </div>
						  
					</div>
					<div class="flex flex-col" *ngIf="selectedSubOption == 'Monthly'">
						<label class="container">1 Month (30days)
							<input type="radio" checked="checked" name="radio" (change)="selectedSubOptionType = '30'">
							<span class="checkmark"></span>
						  </label>
						  <label class="container">Custom
							<input type="radio" name="radio" (change)="selectedSubOptionType = 'Custom'">
							<span class="checkmark"></span>
						  </label>
		
						  <div
							class="flex w-auto"
							*ngIf="selectedSubOptionType == 'Custom'">
		
							<input
								type="number"
								value=""
								class="bg-[#2C3538] p-4 rounded-sm border border-[#4D585D] input-wrap mr-2"
							/>
							<select
							class="input-wrap ml-2"
							id="customType"
						>
							<option value="">Please Select</option>
							<option
								value="Minutes"
								[selected]="selectedCustomType === 'Minutes'"
							>
								Minutes
							</option>
		
							<option
								value="Hours"
								[selected]="selectedCustomType === 'Hours'"
							>
								Hours
							</option>
		
						</select>
						  </div>
		
					</div>
		
					<div class="flex flex-col" *ngIf="selectedSubOption == 'RealityCheck'">
							
						  <label class="container">Custom
							<input type="radio" name="radio" (change)="selectedSubOptionType = 'Custom'">
							<span class="checkmark"></span>
						  </label>
		
						  <div
							class="flex w-auto"
							*ngIf="selectedSubOptionType == 'Custom'">
		
							<input
								type="number"
								value=""
								class="bg-[#2C3538] p-4 rounded-sm border border-[#4D585D] input-wrap mr-2"
							/>
							<select
							class="input-wrap ml-2"
							id="customType"
						>
							<option value="">Please Select</option>
							<option
								value="Minutes"
								[selected]="selectedCustomType === 'Minutes'"
							>
								Minutes
							</option>
		
							<option
								value="Hours"
								[selected]="selectedCustomType === 'Hours'"
							>
								Hours
							</option>
		
						</select>
						  </div>
		
					</div>
					
				</div>
				<div class="flex flex-col gap-3 pb-3" *ngIf="selectedOption == 'FinancialLimit'">
					<label class="text-xs text-white" for=""
						>Limit Sub-Type <sup class="text-[#FFC600]">*</sup>
					</label>
		
					<ul class="flex gap-2 lg:gap-5">
						<li
							class="bg-secondary text-white p-2 w-[100px] text-center rounded-[10px] text-[14px] font-bold"
							[class.active-labels]="selectedSubOption === 'Daily'"
						>
						<a
						(click)="setSubOption('Daily')">Daily</a>
						</li>
						<li
		
							[class.active-labels]="selectedSubOption === 'Weekly'"
							class="bg-secondary text-white p-2 w-[100px] text-center rounded-[10px] text-[14px] font-bold"
						>
						<a
						(click)="setSubOption('Weekly')">Weekly</a>
						</li>
						<li
							
							[class.active-labels]="selectedSubOption === 'Monthly'"
							class="bg-secondary text-white p-2 w-[100px] text-center rounded-[10px] text-[14px] font-bold"
						>
							<a
							(click)="setSubOption('Monthly')">Monthly</a>
						</li>
						
					</ul>
		
					<label class="text-xs text-white" for="">
						Period <sup class="text-[#FFC600]">*</sup>
					</label>
					<div class="flex flex-col">
						  <label class="container">Deposit
							<input type="radio" [checked]="selectedSubOptionType === 'Deposit'" name="radio" (change)="setSubOptionType('Deposit')">
							<span class="checkmark"></span>
						  </label>
						  <label class="container">Loss
							<input type="radio"  [checked]="selectedSubOptionType === 'Loss'" name="radio" (change)="setSubOptionType('Loss')">
							<span class="checkmark"></span>
						  </label>
						  <label class="container">Wager
							<input type="radio" [checked]="selectedSubOptionType === 'Wager'" name="radio" (change)="setSubOptionType('Wager')">
							<span class="checkmark"></span>
						  </label>
						  
						  <div class="flex flex-col lg:w-1/3 mt-2">
							<label class="fin_amount" for="">Amount<sup class="text-[#FFC600]">*</sup></label>
							<div class="input-wrap mt-1">
								<span class="tag">NGN</span>
								<input
									type="text"
									value="{{ selectedAmount }}"
									(change)="enteredamount($event)"
								/>
								<span class="number">.00</span>
							</div>
						  </div>
						  
					</div>
					
					
				</div>
				<div class="flex flex-col gap-3" *ngIf="selectedOption == 'Exclusion'">
					<label class="text-xs text-white" for=""
						>Limit Sub-Type <sup class="text-[#FFC600]">*</sup>
					</label>
		
					<ul class="flex gap-5 items-center">
						<li
							class="bg-secondary text-white p-2 w-[100px] text-center rounded-[10px] text-sm"
							[class.active-labels]="selectedSubOption === 'Temporary'"
						>
						<a
						(click)="setSubOption('Temporary')">Temporary</a>
						</li>
						<li
							(click)="activeBtn = 'Week'"
							[class.active-labels]="selectedSubOption === 'Permanent'"
							class="bg-secondary text-white p-2 w-[100px] text-center rounded-[10px] text-sm"
						>
						<a
						(click)="setSubOption('Permanent')">Permanent</a>
						</li>
						
					</ul>
		
					<div class="flex lg:hidden w-full" *ngIf="selectedSubOption === 'Temporary'">
						<!-- <div class="flex" *ngIf="isMobile">
							<div class="flex flex-col" style="width: 50%;">
								<label class="text-xs text-white" for="">Start Date<span class="text-[#FFC600]">*</span></label>
								<input type="date" name="startDate" [(ngModel)]="startDate" readonly="true" class="bg-[#2C3538]  border border-gray-600 text-[#D9D9D9] customMatform rounded-[10px]" />
							  </div>
							  <div class="flex flex-col ml-2" style="width: 50%;">
								<label class="text-xs text-white" for="">End Date<span class="text-[#FFC600]">*</span></label>
								<input type="date" name="endDate" [(ngModel)]="endDate" readonly="true"  class="bg-[#2C3538]  border border-gray-600 text-[#D9D9D9] customMatform rounded-[10px]" />
							  </div>
						</div> -->
						<div class="flex" *ngIf="isMobile">
							<div class="flex flex-col" style="width: 50%;">
								<label class="text-xs text-white" for="">Start Date<span class="text-[#FFC600]">*</span></label>
								<mat-form-field class="bg-[#2C3538]  border border-gray-600 text-[#D9D9D9] customMatform rounded-[10px]">
								  <input matInput [matDatepicker]="pickerStartDate" (dateChange)="handleStartDateChange($event)" [min]="getToday()" name="startDate" [(ngModel)]="startDate"
									[readonly]="true">
								  <mat-datepicker-toggle matSuffix [for]="pickerStartDate"></mat-datepicker-toggle>
								  <mat-datepicker #pickerStartDate></mat-datepicker>
								</mat-form-field>
							  </div>
							  <div class="flex flex-col ml-2" style="width: 50%;">
								<label class="text-xs text-white" for="">End Date<span class="text-[#FFC600]">*</span></label>
								<mat-form-field class="bg-[#2C3538]  border border-gray-600 text-[#D9D9D9] customMatform rounded-[10px]">
								  <input matInput [matDatepicker]="pickerEndDate" (dateChange)="handleEndDateChange($event)" name="endDate" [(ngModel)]="endDate"
									[readonly]="true">
								  <mat-datepicker-toggle matSuffix [for]="pickerEndDate"></mat-datepicker-toggle>
								  <mat-datepicker #pickerEndDate></mat-datepicker>
								</mat-form-field>
							  </div>
						</div>
						  
						
					</div>
					<div class="hidden lg:flex w-full" *ngIf="selectedSubOption === 'Temporary'">
						
						<div class="flex flex-col">
						  <label class="text-xs text-white" for="">Start Date<span class="text-[#FFC600]">*</span></label>
						  <mat-form-field class="bg-[#2C3538]  border border-gray-600 text-[#D9D9D9] customMatform rounded-[10px]">
							<input matInput [matDatepicker]="pickerStartDate" (dateChange)="handleStartDateChange($event)" [min]="getToday()" [max]="getToday()" name="startDate" [(ngModel)]="startDate"
							  [readonly]="true">
							<mat-datepicker-toggle matSuffix [for]="pickerStartDate"></mat-datepicker-toggle>
							<mat-datepicker #pickerStartDate></mat-datepicker>
						  </mat-form-field>
						</div>
						<div class="flex flex-col ml-2">
						  <label class="text-xs text-white" for="">End Date<span class="text-[#FFC600]">*</span></label>
						  <mat-form-field class="bg-[#2C3538]  border border-gray-600 text-[#D9D9D9] customMatform rounded-[10px]">
							<input matInput [matDatepicker]="pickerEndDate" (dateChange)="handleEndDateChange($event)" name="endDate" [(ngModel)]="endDate"
							  [readonly]="true">
							<mat-datepicker-toggle matSuffix [for]="pickerEndDate"></mat-datepicker-toggle>
							<mat-datepicker #pickerEndDate></mat-datepicker>
						  </mat-form-field>
						</div>
					  
					</div>
					<div class="flex w-full" *ngIf="selectedSubOption === 'Permanent'">
		
					</div>
				</div>
		
				<!-- <div class="flex flex-col gap-3" *ngIf="canEdit">
					<div class="flex flex-col lg:w-1/3">
						<label class="fin_amount" for="">Amount<sup class="text-[#FFC600]">*</sup></label>
						<div class="input-wrap">
							<span class="tag">NGNn</span>
							<input
								type="text"
								value="{{ selectedAmount }}"
								(change)="enteredamount($event)"
							/>
							<span class="number">.00</span>
						</div>
					  </div>
				</div> -->
				
				
				<div class="footer-action mt-4">
					<button class="btn-cancel" (click)="closeModal()">Cancel</button>
					
					<button
						class="btn-save"
						(click)="editFinancialLimit()"
						*ngIf="selectedOption === 'FinancialLimit' && canEdit"
					>
						Update Limit
					</button>
		
					<button
						class="btn-save"
						(click)="setFinancialLimit()"
						[disabled]="isSubmitting"
						*ngIf="selectedOption === 'FinancialLimit' && canAdd"
					>
						<span *ngIf="!isSubmitting">Set Limit</span>
						<span class="flex justify-center button-spinner mx-auto"  *ngIf="isSubmitting"></span>
					</button>
		
					<button
						class="btn-save"
						(click)="setExclusion()"
						*ngIf="selectedOption === 'Exclusion' && canAdd
						"
					>
						Set Exclusion
					</button>
				</div>
			</form>
		</div>
		
	  </div>
	</div>
</div>

<div class="modal md:invisible" *ngIf="updateFinancialLimitMobile || updateExclusionMobile">
	<div class="modal-content">
	  <div class="modal-wrapper pb-12">
		<div class="flex items-center gap-2 pb-5 mb-4 border-b border-secondary">
		  <svg
			(click)="closeEditModal()"
			width="24"
			height="24"
			viewBox="0 0 24 24"
			fill="none"
			xmlns="http://www.w3.org/2000/svg"
		  >
			<circle cx="12" cy="12" r="12" fill="#2C3538" />
			<path
			  d="M8.73711 13.1621H18.5996V12.0371H8.73711L13.3871 7.38711L12.5996 6.59961L6.59961 12.5996L12.5996 18.5996L13.3871 17.8121L8.73711 13.1621Z"
			  fill="white"
			/>
			<path
			  d="M8.73711 13.1621H18.5996V12.0371H8.73711L13.3871 7.38711L12.5996 6.59961L6.59961 12.5996L12.5996 18.5996L13.3871 17.8121L8.73711 13.1621Z"
			  stroke="white"
			/>
		  </svg>
  
		  <h3 class="text-lg font-bold text-white">Edit Limit</h3>
		</div>
		<div class="flex flex-col flex-1 overflow-auto px-1">
			<form class="w-full flex gap-5 flex-col">
		
				<div class="flex flex-col gap-3">
					<div class="flex flex-col lg:w-1/3">
						<label class="fin_amount" for="">Amount<sup class="text-[#FFC600]">*</sup></label>
						<div class="input-wrap mt-1">
							<span class="tag">NGN</span>
							<input
								type="text"
								value="{{ selectedAmount }}"
								(change)="enteredamount($event)"
							/>
							<span class="number">.00</span>
						</div>
					  </div>
				</div>
				
				
				<div class="footer-action">
					<button class="btn-cancel" (click)="closeEditModal()">Cancel</button>
					
					<button
						class="btn-save"
						(click)="editFinancialLimit()"
					>
						Update Limit
					</button>
		
					
				</div>
			</form>
		</div>
		
	  </div>
	</div>
</div>